// Hack for windows and swig
%begin %{
#if defined(_DEBUG) && defined(SWIG_PYTHON_INTERPRETER_NO_DEBUG)
#include <crtdefs.h>
#endif
%}

%define MODULEIMPORT
"
print('Loading PyFAST ...')
import $module
print('Done')
"
%enddef


%module(moduleimport=MODULEIMPORT) fast
%{


#include <FAST/ProcessObject.hpp>
#include <FAST/Reporter.hpp>
#include <FAST/Visualization/SimpleWindow.hpp>
#include <FAST/Visualization/View.hpp>
#include <FAST/Visualization/Renderer.hpp>
#include <FAST/Visualization/ImageRenderer/ImageRenderer.hpp>
#include <FAST/Data/DataTypes.hpp>
@PYFAST_HEADER_INCLUDES@

using namespace fast;

%}

// Third party stuff
%include <std_string.i>
%include <std_shared_ptr.i>
%include <FAST/eigen.i>

// FAST CORE LIBRARY

// Define FAST_EXPORT to nothing to avoid compile errors
%define FAST_EXPORT
%enddef
%define Q_OBJECT
%enddef
%define Q_SLOTS
%enddef
%define Q_SIGNALS
public
%enddef

// Ignore statements
%ignore getDevice;
%ignore ReporterEnd::~ReporterEnd();
%ignore QObject;
%ignore Renderer::draw;
%ignore Renderer::postDraw;
%ignore Host;
%ignore ExecutionDevice;
%ignore OpenCLDevice;
%ignore DataObject;
%ignore RuntimeMeasurement;
%ignore RuntimeMeasurementsManager;
%ignore BoundingBoxSet;
%ignore Worker;
%ignore CameraWorker;

%nodefaultdtor Config;


// Shared_ptr declerations
%shared_ptr(fast::Object)
%shared_ptr(fast::DataChannel)
%shared_ptr(fast::ProcessObject)
%shared_ptr(fast::Window)
%shared_ptr(fast::SimpleWindow);
%shared_ptr(fast::Renderer)
%shared_ptr(fast::View) // Not sure why this is needed..
@PYFAST_SHARED_PTR_DEFS@

// Interface includes
%include <FAST/Reporter.hpp>
%include <FAST/Object.hpp>
%include <FAST/Data/DataObject.hpp>
%include <FAST/DeviceCriteria.hpp>
%include <FAST/DataChannels/DataChannel.hpp>
%include <FAST/RuntimeMeasurement.hpp>
%include <FAST/RuntimeMeasurementManager.hpp>
%include <FAST/ExecutionDevice.hpp>
%include <FAST/Attribute.hpp>
%include <FAST/ProcessObject.hpp>
%include <FAST/Config.hpp>
%include <FAST/Data/DataTypes.hpp>
%include <FAST/Data/Color.hpp>
%include <FAST/Data/SimpleDataObject.hpp>

// Visualization
%include <FAST/Visualization/Renderer.hpp>
%include <FAST/Visualization/View.hpp>
%include <FAST/Visualization/Window.hpp>
%include <FAST/Visualization/SimpleWindow.hpp>


@PYFAST_INTERFACE_INCLUDES@
